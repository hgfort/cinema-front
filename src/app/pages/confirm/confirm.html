<!-- pages/confirm/confirm.component.html
<div class="confirm-container">
  <main class="container">
    @if (isLoading) {
      <div class="loading">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–µ—Ç–∞–ª–∏ –±—Ä–æ–Ω–∏...</p>
      </div>
    }

    @if (!isLoading && booking) {
      <div class="confirmation-wrapper">
        <div class="confirmation-details">
          <div class="success-header">
            <div class="success-icon">‚úì</div>
            <h1>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!</h1>
            <p class="success-message">
              –í–∞—à–∏ –±–∏–ª–µ—Ç—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã. –ù–æ–º–µ—Ä –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
              <strong>#{{ booking.bookingId }}</strong>
            </p>
          </div>

          <div class="booking-card">
            <div class="booking-header">
              <h2>üé¨ {{ booking.movie.title }}</h2>
              <div class="movie-meta">
                <span class="meta-badge">{{ booking.movie.ageRating }}</span>
                <span class="meta-badge">{{ booking.movie.duration }} –º–∏–Ω</span>
              </div>
            </div>

            <div class="booking-info">
              <div class="info-row">
                <span class="info-label">üìÖ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</span>
                <span class="info-value">
                  {{ getFormattedDate(booking.session.dateTime) }},
                  {{ getFormattedTime(booking.session.dateTime) }}
                </span>
              </div>

              <div class="info-row">
                <span class="info-label">üìç –ó–∞–ª</span>
                <span class="info-value">
                  {{ booking.session.hallName }} ({{ booking.session.hallType }})
                </span>
              </div>

              <div class="info-row">
                <span class="info-label">üí∫ –ú–µ—Å—Ç–∞</span>
                <span class="info-value seats-value">
                  {{ getSeatsText() }}
                  <small>({{ booking.seats.length }} –º–µ—Å—Ç)</small>
                </span>
              </div>
            </div>

            <div class="seats-details">
              <h3>–í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Å—Ç–∞:</h3>
              <div class="seats-grid">
                @for (seat of booking.seats; track seat) {
                  <div class="seat-item" [class.vip]="seat.type === 'vip'">
                    <div class="seat-number">–†—è–¥ {{ seat.row }}, –ú–µ—Å—Ç–æ {{ seat.seat }}</div>
                    <div class="seat-type">{{ seat.type === 'vip' ? 'VIP' : '–°—Ç–∞–Ω–¥–∞—Ä—Ç' }}</div>
                    <div class="seat-price">{{ seat.price }} ‚ÇΩ</div>
                  </div>
                }
              </div>
            </div>
          </div>

          <div class="actions">
            <button class="btn btn-primary" (click)="downloadTicket()">
              üì• –°–∫–∞—á–∞—Ç—å –±–∏–ª–µ—Ç—ã (PDF)
            </button>
            <button class="btn btn-secondary" (click)="printTicket()">
              üñ®Ô∏è –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å
            </button>
            <button class="btn btn-outline" (click)="goToAccount()">
              üë§ –í –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
            </button>
            <button class="btn btn-text" (click)="goHome()">
              ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
            </button>
          </div>
        </div>
      </div>
    }
  </main>
</div> -->
<!-- pages/confirm/confirm.component.html -->
<div class="confirm-container">
  <main class="container">
    @if (isLoading) {
      <div class="loading">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–µ—Ç–∞–ª–∏ –±—Ä–æ–Ω–∏...</p>
      </div>
    }

    @if (!isLoading && errorMessage) {
      <div class="error-message">
        <div class="error-icon">‚ö†Ô∏è</div>
        <h2>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</h2>
        <p>{{ errorMessage }}</p>
        <div class="error-actions">
          <button class="btn btn-primary" (click)="goHome()">
            –ù–∞ –≥–ª–∞–≤–Ω—É—é
          </button>
          <button class="btn btn-outline" (click)="goToAccount()">
            –í –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
          </button>
        </div>
      </div>
    }

    @if (!isLoading && booking && !errorMessage) {
      <div class="confirmation-wrapper">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –î–µ—Ç–∞–ª–∏ -->
        <div class="confirmation-details">
          <div class="success-header">
            <div class="success-icon">‚úì</div>
            <h1>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!</h1>
            <p class="success-message">
              –í–∞—à–∏ –±–∏–ª–µ—Ç—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã. –ù–æ–º–µ—Ä –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
              <strong>#{{ booking.bookingId }}</strong>
            </p>
            <p class="booking-time">
              –í—Ä–µ–º—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: {{ getFormattedDate(booking.bookingTime) }}, 
              {{ getFormattedTime(booking.bookingTime) }}
            </p>
          </div>

          <div class="booking-card">
            <div class="booking-header">
              <h2>üé¨ {{ booking.movie.title }}</h2>
              <div class="movie-meta">
                @if (booking.movie.ageRating) {
                  <span class="meta-badge">{{ booking.movie.ageRating }}</span>
                }
                @if (booking.movie.duration) {
                  <span class="meta-badge">{{ booking.movie.duration }} –º–∏–Ω</span>
                }
              </div>
            </div>

            <div class="booking-info">
              <div class="info-row">
                <span class="info-label">üìÖ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–µ–∞–Ω—Å–∞</span>
                <span class="info-value">
                  {{ getFormattedDate(booking.session.dateTime) }},
                  {{ getFormattedTime(booking.session.dateTime) }}
                </span>
              </div>

              <div class="info-row">
                <span class="info-label">üìç –ó–∞–ª</span>
                <span class="info-value">
                  {{ booking.session.hallName }}
                  @if (booking.session.hallType) {
                    ({{ booking.session.hallType }})
                  }
                </span>
              </div>

              <div class="info-row">
                <span class="info-label">üí∫ –ú–µ—Å—Ç–∞</span>
                <span class="info-value seats-value">
                  {{ getSeatsText() }}
                  <small>({{ booking.seats.length }} {{ getSeatsCountText(booking.seats.length) }})</small>
                </span>
              </div>

              <div class="info-row total-price">
                <span class="info-label">üí∞ –°—É–º–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</span>
                <span class="info-value price-value">
                  {{ booking.totalPrice }} ‚ÇΩ
                </span>
              </div>
            </div>

            @if (booking.seats && booking.seats.length > 0) {
              <div class="seats-details">
                <h3>–í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Å—Ç–∞:</h3>
                <div class="seats-grid">
                  @for (seat of booking.seats; track seat.seat) {
                    <div class="seat-item" [class.vip]="seat.type === 'vip'">
                      <div class="seat-number">–†—è–¥ {{ seat.row }}, –ú–µ—Å—Ç–æ {{ seat.seat }}</div>
                      <div class="seat-type">{{ seat.type === 'vip' ? 'VIP' : '–°—Ç–∞–Ω–¥–∞—Ä—Ç' }}</div>
                      <div class="seat-price">{{ seat.price }} ‚ÇΩ</div>
                    </div>
                  }
                </div>
              </div>
            }
          </div>

          <div class="actions">
            <button class="btn btn-primary" (click)="downloadTicket()" [disabled]="isLoading">
              üì• –°–∫–∞—á–∞—Ç—å –±–∏–ª–µ—Ç—ã (PDF)
            </button>
            <button class="btn btn-secondary" (click)="printTicket()">
              üñ®Ô∏è –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å
            </button>
            <button class="btn btn-outline" (click)="goToAccount()">
              üë§ –í –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
            </button>
            <button class="btn btn-text" (click)="goHome()">
              ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
            </button>
          </div>

          <div class="additional-info">
            <div class="info-box">
              <h4>üìã –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h4>
              <ul>
                <li>–ë–∏–ª–µ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –≤—Ö–æ–¥–µ</li>
                <li>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø—Ä–∏–±—ã—Ç—å –∑–∞ 15-20 –º–∏–Ω—É—Ç –¥–æ —Å–µ–∞–Ω—Å–∞</li>
                <li>–ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ß–µ–∫ -->
        <div class="receipt-column">
          <div class="receipt-card">
            <h3>–î–µ—Ç–∞–ª–∏ –æ–ø–ª–∞—Ç—ã</h3>
            <div class="receipt-details">
              <div class="receipt-row">
                <span>–ë–∏–ª–µ—Ç—ã:</span>
                <span>{{ booking.totalPrice - getVatAmount() }} ‚ÇΩ</span>
              </div>
              <div class="receipt-row">
                <span>–ù–î–° (20%):</span>
                <span>{{ getVatAmount() }} ‚ÇΩ</span>
              </div>
              <div class="receipt-row total">
                <span><strong>–ò—Ç–æ–≥–æ:</strong></span>
                <span><strong>{{ booking.totalPrice }} ‚ÇΩ</strong></span>
              </div>
            </div>
            <div class="receipt-info">
              <p><small>–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ. –ß–µ–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ email.</small></p>
            </div>
          </div>

          <div class="qr-code-section">
            <h4>–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –±–∏–ª–µ—Ç</h4>
            <div class="qr-placeholder">
              <div class="qr-code">QR-–∫–æ–¥</div>
              <p>–ü–æ–∫–∞–∂–∏—Ç–µ QR-–∫–æ–¥ –Ω–∞ –≤—Ö–æ–¥–µ</p>
            </div>
            <p class="booking-code">–ö–æ–¥ –±—Ä–æ–Ω–∏: <strong>#{{ booking.bookingId }}</strong></p>
          </div>
        </div>
      </div>
    }
  </main>
</div>