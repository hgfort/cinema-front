<!-- pages/confirm/confirm.component.html -->
<div class="confirm-container">
  <main class="container">
    @if (isLoading) {
      <div class="loading">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–µ—Ç–∞–ª–∏ –±—Ä–æ–Ω–∏...</p>
      </div>
    }

    @if (!isLoading && booking) {
      <div class="confirmation-wrapper">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –î–µ—Ç–∞–ª–∏ -->
        <div class="confirmation-details">
          <div class="success-header">
            <div class="success-icon">‚úì</div>
            <h1>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!</h1>
            <p class="success-message">
              –í–∞—à–∏ –±–∏–ª–µ—Ç—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã. –ù–æ–º–µ—Ä –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
              <strong>#{{ booking.bookingId }}</strong>
            </p>
          </div>

          <div class="booking-card">
            <div class="booking-header">
              <h2>üé¨ {{ booking.movie.title }}</h2>
              <div class="movie-meta">
                <span class="meta-badge">{{ booking.movie.ageRating }}</span>
                <span class="meta-badge">{{ booking.movie.duration }} –º–∏–Ω</span>
              </div>
            </div>

            <div class="booking-info">
              <div class="info-row">
                <span class="info-label">üìÖ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</span>
                <span class="info-value">
                  {{ getFormattedDate(booking.session.dateTime) }},
                  {{ getFormattedTime(booking.session.dateTime) }}
                </span>
              </div>

              <div class="info-row">
                <span class="info-label">üìç –ó–∞–ª</span>
                <span class="info-value">
                  {{ booking.session.hallName }} ({{ booking.session.hallType }})
                </span>
              </div>

              <div class="info-row">
                <span class="info-label">üí∫ –ú–µ—Å—Ç–∞</span>
                <span class="info-value seats-value">
                  {{ getSeatsText() }}
                  <small>({{ booking.seats.length }} –º–µ—Å—Ç)</small>
                </span>
              </div>
            </div>

            <div class="seats-details">
              <h3>–í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Å—Ç–∞:</h3>
              <div class="seats-grid">
                @for (seat of booking.seats; track seat) {
                  <div class="seat-item" [class.vip]="seat.type === 'vip'">
                    <div class="seat-number">–†—è–¥ {{ seat.row }}, –ú–µ—Å—Ç–æ {{ seat.seat }}</div>
                    <div class="seat-type">{{ seat.type === 'vip' ? 'VIP' : '–°—Ç–∞–Ω–¥–∞—Ä—Ç' }}</div>
                    <div class="seat-price">{{ seat.price }} ‚ÇΩ</div>
                  </div>
                }
              </div>
            </div>
          </div>

          <div class="actions">
            <button class="btn btn-primary" (click)="downloadTicket()">
              üì• –°–∫–∞—á–∞—Ç—å –±–∏–ª–µ—Ç—ã (PDF)
            </button>
            <button class="btn btn-secondary" (click)="printTicket()">
              üñ®Ô∏è –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å
            </button>
            <button class="btn btn-outline" (click)="goToAccount()">
              üë§ –í –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
            </button>
            <button class="btn btn-text" (click)="goHome()">
              ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
            </button>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ß–µ–∫ -->

      </div>
    }
  </main>
</div>